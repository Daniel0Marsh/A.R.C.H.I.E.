<ChatHistory>:
    size_hint_y: None
    height: self.minimum_height

    MDBoxLayout:
        size_hint: 1, None
        height: self.minimum_height
        orientation: 'horizontal'  # Change orientation to horizontal for the icon and label
        padding: "5dp"  # Add padding to the sides

        MDCard:
            size_hint: 1, None  # Disable size_hint to allow custom sizing
            elevation: 2
            padding: "5dp"  # Add padding to the sides
            height: label.texture_size[1] + self.padding[1] * 2  # Adjust height based on label size
            theme_text_color: "Primary" if app.theme_cls.theme_style == 'Dark' else "Secondary"
            md_bg_color: app.theme_cls.primary_color

            BoxLayout:
                orientation: "vertical"
                spacing: "8dp"

                MDLabel:
                    id: label  # Assign an ID to the label widget
                    text: root.title
                    theme_text_color: "Custom"  # Set the theme_text_color to Custom
                    adaptive_height: True
                    font_style: "Body1"
