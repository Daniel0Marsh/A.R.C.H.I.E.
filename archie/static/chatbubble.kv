<ChatBubble>:
    size_hint_y: None
    height: self.minimum_height

    MDBoxLayout:
        size_hint: 1, None
        height: self.minimum_height
        orientation: 'horizontal'
        padding: "5dp"

        MDCard:
            size_hint: 1, None
            elevation: 2
            padding: "10dp"
            height: label.texture_size[1] + self.padding[1] * 2
            theme_text_color: "Primary" if app.theme_cls.theme_style == 'Dark' else "Secondary"
            md_bg_color: root.bubble_color

            MDIcon: # Add an MDIcon widget for the icon
                icon: root.icon  # Replace "chat" with the desired icon name
                theme_text_color: "Primary" if app.theme_cls.theme_style == 'Dark' else "Secondary"
                size_hint_x: None  # Set the icon width to a specific value
                width: dp(24)  # Replace dp(24) with the desired icon width
                padding: "10dp", "0dp", "10dp", "0dp"  # Add padding to the sides

            MDLabel:
                id: label
                text: root.msg
                theme_text_color: "Primary" if app.theme_cls.theme_style == 'Dark' else "Secondary"
                adaptive_height: True
                font_style: "Body1"
